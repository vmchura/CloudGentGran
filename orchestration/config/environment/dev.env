# Catalunya Data Pipeline - Development Environment Configuration

# Environment
ENVIRONMENT=development

# Airflow Configuration
AIRFLOW__CORE__EXECUTOR=LocalExecutor
AIRFLOW__CORE__LOAD_EXAMPLES=False
AIRFLOW__CORE__DAGS_ARE_PAUSED_AT_CREATION=True
AIRFLOW__WEBSERVER__EXPOSE_CONFIG=True
AIRFLOW__WEBSERVER__SECRET_KEY=catalunya_data_pipeline_secret_key_dev_2024

# Database (PostgreSQL for Airflow metadata)
AIRFLOW__DATABASE__SQL_ALCHEMY_CONN=postgresql+psycopg2://airflow:airflow@postgres/airflow

# DBT Configuration
DBT_PROFILES_DIR=/home/airflow/.dbt
DBT_PROJECT_DIR=/opt/airflow/dbt_mart
DBT_TARGET=dev

# AWS Configuration (for development, use localstack or minimal permissions)
AWS_DEFAULT_REGION=eu-west-1
AWS_ACCESS_KEY_ID=dev_access_key
AWS_SECRET_ACCESS_KEY=dev_secret_key

# Catalunya Data Pipeline Configuration
CATALUNYA_DATA_ENV=development
CATALUNYA_S3_BUCKET=catalunya-data-lake-dev
CATALUNYA_ATHENA_WORKGROUP=catalunya-workgroup-dev
CATALUNYA_GLUE_DATABASE=catalunya_data_dev

# Logging
AIRFLOW__LOGGING__LOGGING_LEVEL=INFO
AIRFLOW__LOGGING__REMOTE_LOGGING=False

# Scheduler Configuration
AIRFLOW__SCHEDULER__DAG_DIR_LIST_INTERVAL=30
AIRFLOW__SCHEDULER__CATCHUP_BY_DEFAULT=False
AIRFLOW__SCHEDULER__MAX_TIS_PER_QUERY=512

# Webserver Configuration
AIRFLOW__WEBSERVER__DEFAULT_UI_TIMEZONE=Europe/Madrid
AIRFLOW__WEBSERVER__WEB_SERVER_PORT=8080

# Security
AIRFLOW__WEBSERVER__AUTHENTICATE=False
AIRFLOW__WEBSERVER__AUTH_BACKEND=airflow.api.auth.backend.basic_auth

# Development specific settings
AIRFLOW__CORE__PARALLELISM=4
AIRFLOW__CORE__MAX_ACTIVE_TASKS_PER_DAG=2
AIRFLOW__CORE__MAX_ACTIVE_RUNS_PER_DAG=1