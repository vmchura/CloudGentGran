# DBT Profiles for Catalunya Data Pipeline - Development Environment
# This file is used by the orchestration layer for local development

catalunya_data:
  target: dev
  outputs:
    # Local development with DuckDB
    dev:
      type: duckdb
      path: /opt/airflow/data/dev.duckdb
      schema: marts
      extensions:
        - httpfs      # For S3 access if needed
        - parquet     # For parquet files
        - json        # For JSON processing
        - spatial     # For geospatial data
      settings:
        temp_directory: /opt/airflow/data/temp
        max_memory: 1GB
        threads: 2

    # Testing environment
    test:
      type: duckdb
      path: /opt/airflow/data/test.duckdb
      schema: test_marts
      extensions:
        - httpfs
        - parquet
        - json
      settings:
        temp_directory: /opt/airflow/data/temp
        max_memory: 512MB
        threads: 1